{"ast":null,"code":"import { Gain } from \"../../core/context/Gain\";\nimport { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly, writable } from \"../../core/util/Interface\";\nimport { MultibandSplit } from \"../channel/MultibandSplit\";\n/**\n * EQ3 provides 3 equalizer bins: Low/Mid/High.\n * @category Component\n */\n\nexport class EQ3 extends ToneAudioNode {\n  constructor() {\n    super(optionsFromArguments(EQ3.getDefaults(), arguments, [\"low\", \"mid\", \"high\"]));\n    this.name = \"EQ3\";\n    /**\n     * the output\n     */\n\n    this.output = new Gain({\n      context: this.context\n    });\n    this._internalChannels = [];\n    const options = optionsFromArguments(EQ3.getDefaults(), arguments, [\"low\", \"mid\", \"high\"]);\n    this.input = this._multibandSplit = new MultibandSplit({\n      context: this.context,\n      highFrequency: options.highFrequency,\n      lowFrequency: options.lowFrequency\n    });\n    this._lowGain = new Gain({\n      context: this.context,\n      gain: options.low,\n      units: \"decibels\"\n    });\n    this._midGain = new Gain({\n      context: this.context,\n      gain: options.mid,\n      units: \"decibels\"\n    });\n    this._highGain = new Gain({\n      context: this.context,\n      gain: options.high,\n      units: \"decibels\"\n    });\n    this.low = this._lowGain.gain;\n    this.mid = this._midGain.gain;\n    this.high = this._highGain.gain;\n    this.Q = this._multibandSplit.Q;\n    this.lowFrequency = this._multibandSplit.lowFrequency;\n    this.highFrequency = this._multibandSplit.highFrequency; // the frequency bands\n\n    this._multibandSplit.low.chain(this._lowGain, this.output);\n\n    this._multibandSplit.mid.chain(this._midGain, this.output);\n\n    this._multibandSplit.high.chain(this._highGain, this.output);\n\n    readOnly(this, [\"low\", \"mid\", \"high\", \"lowFrequency\", \"highFrequency\"]);\n    this._internalChannels = [this._multibandSplit];\n  }\n\n  static getDefaults() {\n    return Object.assign(ToneAudioNode.getDefaults(), {\n      high: 0,\n      highFrequency: 2500,\n      low: 0,\n      lowFrequency: 400,\n      mid: 0\n    });\n  }\n  /**\n   * Clean up.\n   */\n\n\n  dispose() {\n    super.dispose();\n    writable(this, [\"low\", \"mid\", \"high\", \"lowFrequency\", \"highFrequency\"]);\n\n    this._multibandSplit.dispose();\n\n    this.lowFrequency.dispose();\n    this.highFrequency.dispose();\n\n    this._lowGain.dispose();\n\n    this._midGain.dispose();\n\n    this._highGain.dispose();\n\n    this.low.dispose();\n    this.mid.dispose();\n    this.high.dispose();\n    this.Q.dispose();\n    return this;\n  }\n\n}","map":{"version":3,"mappings":"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","names":["Gain","ToneAudioNode","optionsFromArguments","readOnly","writable","MultibandSplit","EQ3","constructor","getDefaults","arguments","context","options","input","_multibandSplit","highFrequency","lowFrequency","_lowGain","gain","low","units","_midGain","mid","_highGain","high","Q","chain","output","_internalChannels","Object","assign","dispose"],"sources":["/Users/jakeg/code/tone-instrument/node_modules/tone/Tone/component/filter/EQ3.ts"],"sourcesContent":["import { Gain } from \"../../core/context/Gain\";\nimport { Param } from \"../../core/context/Param\";\nimport { ToneAudioNode, ToneAudioNodeOptions } from \"../../core/context/ToneAudioNode\";\nimport { Decibels, Frequency } from \"../../core/type/Units\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly, writable } from \"../../core/util/Interface\";\nimport { Signal } from \"../../signal/Signal\";\nimport { MultibandSplit } from \"../channel/MultibandSplit\";\n\ninterface EQ3Options extends ToneAudioNodeOptions {\n\tlow: Decibels;\n\tmid: Decibels;\n\thigh: Decibels;\n\tlowFrequency: Frequency;\n\thighFrequency: Frequency;\n}\n\n/**\n * EQ3 provides 3 equalizer bins: Low/Mid/High. \n * @category Component\n */\nexport class EQ3 extends ToneAudioNode<EQ3Options> {\n\n\treadonly name: string = \"EQ3\";\n\n\t/**\n\t * the input\n\t */\n\treadonly input: MultibandSplit;\n\n\t/**\n\t * the output\n\t */\n\treadonly output = new Gain({ context: this.context });\n\n\t/**\n\t * Splits the input into three outputs\n\t */\n\tprivate _multibandSplit: MultibandSplit;\n\n\t/**\n\t * The gain for the lower signals\n\t */\n\tprivate _lowGain: Gain<\"decibels\">;\n\n\t/**\n\t * The gain for the mid signals\n\t */\n\tprivate _midGain: Gain<\"decibels\">;\n\n\t/**\n\t * The gain for the high signals\n\t */\n\tprivate _highGain: Gain<\"decibels\">;\n\n\t/**\n\t * The gain in decibels of the low part\n\t */\n\treadonly low: Param<\"decibels\">;\n\n\t/**\n\t * The gain in decibels of the mid part\n\t */\n\treadonly mid: Param<\"decibels\">;\n\n\t/**\n\t * The gain in decibels of the high part\n\t */\n\treadonly high: Param<\"decibels\">;\n\n\t/**\n\t * The Q value for all of the filters.\n\t */\n\treadonly Q: Signal<\"positive\">;\n\n\t/**\n\t * The low/mid crossover frequency.\n\t */\n\treadonly lowFrequency: Signal<\"frequency\">;\n\n\t/**\n\t * The mid/high crossover frequency.\n\t */\n\treadonly highFrequency: Signal<\"frequency\">;\n\n\tprotected _internalChannels: ToneAudioNode[] = [];\n\n\tconstructor(lowLevel?: Decibels, midLevel?: Decibels, highLevel?: Decibels);\n\tconstructor(options: Partial<EQ3Options>);\n\tconstructor() {\n\t\tsuper(optionsFromArguments(EQ3.getDefaults(), arguments, [\"low\", \"mid\", \"high\"]));\n\t\tconst options = optionsFromArguments(EQ3.getDefaults(), arguments, [\"low\", \"mid\", \"high\"]);\n\n\t\tthis.input = this._multibandSplit = new MultibandSplit({\n\t\t\tcontext: this.context,\n\t\t\thighFrequency: options.highFrequency,\n\t\t\tlowFrequency: options.lowFrequency,\n\t\t});\n\n\t\tthis._lowGain = new Gain({\n\t\t\tcontext: this.context,\n\t\t\tgain: options.low,\n\t\t\tunits: \"decibels\",\n\t\t});\n\n\t\tthis._midGain = new Gain({\n\t\t\tcontext: this.context,\n\t\t\tgain: options.mid,\n\t\t\tunits: \"decibels\",\n\t\t});\n\n\t\tthis._highGain = new Gain({\n\t\t\tcontext: this.context,\n\t\t\tgain: options.high,\n\t\t\tunits: \"decibels\",\n\t\t});\n\n\t\tthis.low = this._lowGain.gain;\n\t\tthis.mid = this._midGain.gain;\n\t\tthis.high = this._highGain.gain;\n\t\tthis.Q = this._multibandSplit.Q;\n\t\tthis.lowFrequency = this._multibandSplit.lowFrequency;\n\t\tthis.highFrequency\t= this._multibandSplit.highFrequency;\n\n\t\t// the frequency bands\n\t\tthis._multibandSplit.low.chain(this._lowGain, this.output);\n\t\tthis._multibandSplit.mid.chain(this._midGain, this.output);\n\t\tthis._multibandSplit.high.chain(this._highGain, this.output);\n\n\t\treadOnly(this, [\"low\", \"mid\", \"high\", \"lowFrequency\", \"highFrequency\"]);\n\t\tthis._internalChannels = [this._multibandSplit];\n\t}\n\n\tstatic getDefaults(): EQ3Options {\n\t\treturn Object.assign(ToneAudioNode.getDefaults(), {\n\t\t\thigh: 0,\n\t\t\thighFrequency: 2500,\n\t\t\tlow: 0,\n\t\t\tlowFrequency: 400,\n\t\t\tmid: 0,\n\t\t});\n\t}\n\n\t/**\n\t * Clean up.\n\t */\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\twritable(this, [\"low\", \"mid\", \"high\", \"lowFrequency\", \"highFrequency\"]);\n\t\tthis._multibandSplit.dispose();\n\t\tthis.lowFrequency.dispose();\n\t\tthis.highFrequency.dispose();\n\t\tthis._lowGain.dispose();\n\t\tthis._midGain.dispose();\n\t\tthis._highGain.dispose();\n\t\tthis.low.dispose();\n\t\tthis.mid.dispose();\n\t\tthis.high.dispose();\n\t\tthis.Q.dispose();\n\t\treturn this;\n\t}\n\n}\n"]},"metadata":{},"sourceType":"module"}