{"ast":null,"code":"import { getContext } from \"../Global\";\nimport { TransportTimeClass } from \"./TransportTime\";\n/**\n * Ticks is a primitive type for encoding Time values.\n * Ticks can be constructed with or without the `new` keyword. Ticks can be passed\n * into the parameter of any method which takes time as an argument.\n * @example\n * const t = Tone.Ticks(\"4n\"); // a quarter note as ticks\n * @category Unit\n */\n\nexport class TicksClass extends TransportTimeClass {\n  constructor() {\n    super(...arguments);\n    this.name = \"Ticks\";\n    this.defaultUnits = \"i\";\n  }\n  /**\n   * Get the current time in the given units\n   */\n\n\n  _now() {\n    return this.context.transport.ticks;\n  }\n  /**\n   * Return the value of the beats in the current units\n   */\n\n\n  _beatsToUnits(beats) {\n    return this._getPPQ() * beats;\n  }\n  /**\n   * Returns the value of a second in the current units\n   */\n\n\n  _secondsToUnits(seconds) {\n    return Math.floor(seconds / (60 / this._getBpm()) * this._getPPQ());\n  }\n  /**\n   * Returns the value of a tick in the current time units\n   */\n\n\n  _ticksToUnits(ticks) {\n    return ticks;\n  }\n  /**\n   * Return the time in ticks\n   */\n\n\n  toTicks() {\n    return this.valueOf();\n  }\n  /**\n   * Return the time in seconds\n   */\n\n\n  toSeconds() {\n    return this.valueOf() / this._getPPQ() * (60 / this._getBpm());\n  }\n\n}\n/**\n * Convert a time representation to ticks\n * @category Unit\n */\n\nexport function Ticks(value, units) {\n  return new TicksClass(getContext(), value, units);\n}","map":{"version":3,"mappings":"AAAA,SAASA,UAAT,QAA2B,WAA3B;AAEA,SAASC,kBAAT,QAAmC,iBAAnC;AAGA;;;;;;;;;AAQA,OAAM,MAAOC,UAAP,SAA0BD,kBAA1B,CAAmD;EAAzDE;;IAEU,YAAe,OAAf;IAEA,oBAA6B,GAA7B;EA2CT;EAzCA;;;;;EAGUC,IAAI;IACb,OAAO,KAAKC,OAAL,CAAaC,SAAb,CAAuBC,KAA9B;EACA;EAED;;;;;EAGUC,aAAa,CAACC,KAAD,EAAc;IACpC,OAAO,KAAKC,OAAL,KAAiBD,KAAxB;EACA;EAED;;;;;EAGUE,eAAe,CAACC,OAAD,EAAiB;IACzC,OAAOC,IAAI,CAACC,KAAL,CAAWF,OAAO,IAAI,KAAK,KAAKG,OAAL,EAAT,CAAP,GAAkC,KAAKL,OAAL,EAA7C,CAAP;EACA;EAED;;;;;EAGUM,aAAa,CAACT,KAAD,EAAa;IACnC,OAAOA,KAAP;EACA;EAED;;;;;EAGAU,OAAO;IACN,OAAO,KAAKC,OAAL,EAAP;EACA;EAED;;;;;EAGAC,SAAS;IACR,OAAQ,KAAKD,OAAL,KAAiB,KAAKR,OAAL,EAAlB,IAAqC,KAAK,KAAKK,OAAL,EAA1C,CAAP;EACA;;AA9CuD;AAiDzD;;;;;AAIA,OAAM,SAAUK,KAAV,CAAgBC,KAAhB,EAAmCC,KAAnC,EAAuD;EAC5D,OAAO,IAAIpB,UAAJ,CAAeF,UAAU,EAAzB,EAA6BqB,KAA7B,EAAoCC,KAApC,CAAP;AACA","names":["getContext","TransportTimeClass","TicksClass","constructor","_now","context","transport","ticks","_beatsToUnits","beats","_getPPQ","_secondsToUnits","seconds","Math","floor","_getBpm","_ticksToUnits","toTicks","valueOf","toSeconds","Ticks","value","units"],"sources":["/Users/jakeg/code/tone-instrument/node_modules/tone/Tone/core/type/Ticks.ts"],"sourcesContent":["import { getContext } from \"../Global\";\nimport { TimeBaseUnit, TimeValue } from \"./TimeBase\";\nimport { TransportTimeClass } from \"./TransportTime\";\nimport { Seconds, Ticks } from \"./Units\";\n\n/**\n * Ticks is a primitive type for encoding Time values.\n * Ticks can be constructed with or without the `new` keyword. Ticks can be passed\n * into the parameter of any method which takes time as an argument.\n * @example\n * const t = Tone.Ticks(\"4n\"); // a quarter note as ticks\n * @category Unit\n */\nexport class TicksClass extends TransportTimeClass<Ticks> {\n\n\treadonly name: string = \"Ticks\";\n\n\treadonly defaultUnits: TimeBaseUnit = \"i\";\n\n\t/**\n\t * Get the current time in the given units\n\t */\n\tprotected _now(): Ticks {\n\t\treturn this.context.transport.ticks;\n\t}\n\n\t/**\n\t * Return the value of the beats in the current units\n\t */\n\tprotected _beatsToUnits(beats: number): Ticks {\n\t\treturn this._getPPQ() * beats;\n\t}\n\n\t/**\n\t * Returns the value of a second in the current units\n\t */\n\tprotected _secondsToUnits(seconds: Seconds): Ticks {\n\t\treturn Math.floor(seconds / (60 / this._getBpm()) * this._getPPQ());\n\t}\n\n\t/**\n\t * Returns the value of a tick in the current time units\n\t */\n\tprotected _ticksToUnits(ticks: Ticks): Ticks {\n\t\treturn ticks;\n\t}\n\n\t/**\n\t * Return the time in ticks\n\t */\n\ttoTicks(): Ticks {\n\t\treturn this.valueOf() as Ticks;\n\t}\n\n\t/**\n\t * Return the time in seconds\n\t */\n\ttoSeconds(): Seconds {\n\t\treturn (this.valueOf() / this._getPPQ()) * (60 / this._getBpm());\n\t}\n}\n\n/**\n * Convert a time representation to ticks\n * @category Unit\n */\nexport function Ticks(value?: TimeValue, units?: TimeBaseUnit): TicksClass {\n\treturn new TicksClass(getContext(), value, units);\n}\n"]},"metadata":{},"sourceType":"module"}