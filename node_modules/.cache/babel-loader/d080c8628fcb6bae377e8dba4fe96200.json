{"ast":null,"code":"import { ToneAudioNode } from \"./ToneAudioNode\";\nimport { Param } from \"./Param\";\nimport { onContextClose, onContextInit } from \"./ContextInitialization\";\n/**\n * Tone.Listener is a thin wrapper around the AudioListener. Listener combined\n * with [[Panner3D]] makes up the Web Audio API's 3D panning system. Panner3D allows you\n * to place sounds in 3D and Listener allows you to navigate the 3D sound environment from\n * a first-person perspective. There is only one listener per audio context.\n */\n\nexport class Listener extends ToneAudioNode {\n  constructor() {\n    super(...arguments);\n    this.name = \"Listener\";\n    this.positionX = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.positionX\n    });\n    this.positionY = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.positionY\n    });\n    this.positionZ = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.positionZ\n    });\n    this.forwardX = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.forwardX\n    });\n    this.forwardY = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.forwardY\n    });\n    this.forwardZ = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.forwardZ\n    });\n    this.upX = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.upX\n    });\n    this.upY = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.upY\n    });\n    this.upZ = new Param({\n      context: this.context,\n      param: this.context.rawContext.listener.upZ\n    });\n  }\n\n  static getDefaults() {\n    return Object.assign(ToneAudioNode.getDefaults(), {\n      positionX: 0,\n      positionY: 0,\n      positionZ: 0,\n      forwardX: 0,\n      forwardY: 0,\n      forwardZ: -1,\n      upX: 0,\n      upY: 1,\n      upZ: 0\n    });\n  }\n\n  dispose() {\n    super.dispose();\n    this.positionX.dispose();\n    this.positionY.dispose();\n    this.positionZ.dispose();\n    this.forwardX.dispose();\n    this.forwardY.dispose();\n    this.forwardZ.dispose();\n    this.upX.dispose();\n    this.upY.dispose();\n    this.upZ.dispose();\n    return this;\n  }\n\n} //-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\n\nonContextInit(context => {\n  context.listener = new Listener({\n    context\n  });\n});\nonContextClose(context => {\n  context.listener.dispose();\n});","map":{"version":3,"mappings":"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","names":["ToneAudioNode","Param","onContextClose","onContextInit","Listener","constructor","context","param","rawContext","listener","positionX","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","getDefaults","Object","assign","dispose"],"sources":["/Users/jakeg/code/tone-instrument/node_modules/tone/Tone/core/context/Listener.ts"],"sourcesContent":["import { ToneAudioNode, ToneAudioNodeOptions } from \"./ToneAudioNode\";\nimport { Param } from \"./Param\";\nimport { onContextClose, onContextInit } from \"./ContextInitialization\";\n\nexport interface ListenerOptions extends ToneAudioNodeOptions{\n\tpositionX: number;\n\tpositionY: number;\n\tpositionZ: number;\n\tforwardX: number;\n\tforwardY: number;\n\tforwardZ: number;\n\tupX: number;\n\tupY: number;\n\tupZ: number;\n}\n\n/**\n * Tone.Listener is a thin wrapper around the AudioListener. Listener combined\n * with [[Panner3D]] makes up the Web Audio API's 3D panning system. Panner3D allows you \n * to place sounds in 3D and Listener allows you to navigate the 3D sound environment from\n * a first-person perspective. There is only one listener per audio context. \n */\nexport class Listener extends ToneAudioNode<ListenerOptions> {\n\n\treadonly name: string = \"Listener\";\n\n\t/**\n\t * The listener has no inputs or outputs. \n\t */\n\toutput: undefined; \n\tinput: undefined; \n\n\treadonly positionX: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.positionX,\n\t})\n\n\treadonly positionY: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.positionY,\n\t})\n\n\treadonly positionZ: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.positionZ,\n\t})\n\n\treadonly forwardX: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.forwardX,\n\t})\n\n\treadonly forwardY: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.forwardY,\n\t})\n\n\treadonly forwardZ: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.forwardZ,\n\t})\n\n\treadonly upX: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.upX,\n\t})\n\n\treadonly upY: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.upY,\n\t})\n\n\treadonly upZ: Param = new Param({\n\t\tcontext: this.context,\n\t\tparam: this.context.rawContext.listener.upZ,\n\t})\n\n\tstatic getDefaults(): ListenerOptions {\n\t\treturn Object.assign(ToneAudioNode.getDefaults(), {\n\t\t\tpositionX: 0,\n\t\t\tpositionY: 0,\n\t\t\tpositionZ: 0,\n\t\t\tforwardX: 0,\n\t\t\tforwardY: 0,\n\t\t\tforwardZ: -1,\n\t\t\tupX: 0,\n\t\t\tupY: 1,\n\t\t\tupZ: 0,\n\t\t});\n\t}\n\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis.positionX.dispose();\n\t\tthis.positionY.dispose();\n\t\tthis.positionZ.dispose();\n\t\tthis.forwardX.dispose();\n\t\tthis.forwardY.dispose();\n\t\tthis.forwardZ.dispose();\n\t\tthis.upX.dispose();\n\t\tthis.upY.dispose();\n\t\tthis.upZ.dispose();\n\t\treturn this;\n\t}\n}\n\n//-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\n\nonContextInit(context => {\n\tcontext.listener = new Listener({ context });\n});\n\nonContextClose(context => {\n\tcontext.listener.dispose();\n});\n"]},"metadata":{},"sourceType":"module"}